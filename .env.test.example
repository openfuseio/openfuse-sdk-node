# E2E Test Configuration
# Copy this file to .env.test and fill in the values

# ─────────────────────────────────────────────────────────────────────────────
# Core Configuration (required for all tests)
# ─────────────────────────────────────────────────────────────────────────────

# API endpoint (without /v1 - SDK handles versioning internally)
E2E_API_BASE=https://prod-acme.api.openfuse.io

# SDK client credentials (from Openfuse Cloud dashboard)
E2E_CLIENT_ID=your-sdk-client-id
E2E_CLIENT_SECRET=your-sdk-client-secret

# Scope for SDK operations
E2E_COMPANY_SLUG=acme
E2E_ENVIRONMENT_SLUG=prod

# ─────────────────────────────────────────────────────────────────────────────
# Optional: Admin token for resource management
# ─────────────────────────────────────────────────────────────────────────────
# If provided, used for admin operations (create systems, breakers, etc.)
# Otherwise, SDK token refresh endpoint is used.

# E2E_ADMIN_TOKEN=your-admin-token

# ─────────────────────────────────────────────────────────────────────────────
# Pre-existing Fixtures (recommended for production)
# ─────────────────────────────────────────────────────────────────────────────
# Use manually created resources instead of dynamic creation.

# Failure-rate fixture (used by: lifecycle, fallback, pure withBreaker tests)
# Requirements:
#   - A system
#   - A breaker with trip policy: failure-rate > 50%, action: open-breaker
#
# E2E_FIXTURE_SYSTEM_SLUG=e2e-lifecycle
# E2E_FIXTURE_SYSTEM_ID=<uuid-of-system>
# E2E_FIXTURE_BREAKER_SLUG=e2e-breaker
# E2E_FIXTURE_BREAKER_ID=<uuid-of-breaker>

# Latency fixture (used by: latency p95 tests)
# Requirements:
#   - A system (can reuse E2E_FIXTURE_SYSTEM_* if omitted)
#   - A breaker with trip policy: latency-p95 > 100ms, action: open-breaker
#
# E2E_FIXTURE_LATENCY_SYSTEM_SLUG=e2e-lifecycle  # optional, defaults to E2E_FIXTURE_SYSTEM_SLUG
# E2E_FIXTURE_LATENCY_SYSTEM_ID=<uuid>           # optional, defaults to E2E_FIXTURE_SYSTEM_ID
# E2E_FIXTURE_LATENCY_BREAKER_SLUG=e2e-latency-breaker
# E2E_FIXTURE_LATENCY_BREAKER_ID=<uuid-of-latency-breaker>
